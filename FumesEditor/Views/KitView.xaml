<UserControl x:Class="FumesEditor.Views.KitView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:FumesEditor.Converters">
  
  <UserControl.Resources>
    <converters:ComponentDisplayNameConverter x:Key="ComponentDisplayNameConverter"/>
    <converters:ColorToBrushConverter x:Key="ColorToBrushConverter"/>
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
  </UserControl.Resources>
  <ScrollViewer VerticalScrollBarVisibility="Auto">
    <StackPanel Margin="10">

      <GroupBox Header="vehicle components" Margin="0,0,0,10">
        <Grid Margin="5">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>

          <Label Grid.Row="0" Grid.Column="0" Content="body:" VerticalAlignment="Center"/>
          <ComboBox Grid.Row="0" Grid.Column="1" Margin="5,2" 
                    ItemsSource="{Binding Bodies}" 
                    SelectedItem="{Binding SelectedBody}">
            <ComboBox.ItemTemplate>
              <DataTemplate>
                <TextBlock Text="{Binding Converter={StaticResource ComponentDisplayNameConverter}}"/>
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>

          <Label Grid.Row="1" Grid.Column="0" Content="engine:" VerticalAlignment="Center"/>
          <ComboBox Grid.Row="1" Grid.Column="1" Margin="5,2" 
                    ItemsSource="{Binding Engines}" 
                    SelectedItem="{Binding SelectedEngine}">
            <ComboBox.ItemTemplate>
              <DataTemplate>
                <TextBlock Text="{Binding Converter={StaticResource ComponentDisplayNameConverter}}"/>
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>

          <Label Grid.Row="2" Grid.Column="0" Content="suspension:" VerticalAlignment="Center"/>
          <ComboBox Grid.Row="2" Grid.Column="1" Margin="5,2" 
                    ItemsSource="{Binding Suspensions}" 
                    SelectedItem="{Binding SelectedSuspension}">
            <ComboBox.ItemTemplate>
              <DataTemplate>
                <TextBlock Text="{Binding Converter={StaticResource ComponentDisplayNameConverter}}"/>
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>

          <Label Grid.Row="3" Grid.Column="0" Content="body color:" VerticalAlignment="Center"/>
          <Button Grid.Row="3" Grid.Column="1" Margin="5,2" Height="30" Click="ColorButton_Click">
            <Rectangle Fill="{Binding BodyColor, Converter={StaticResource ColorToBrushConverter}}" 
                       Width="100" Height="20"/>
          </Button>

          <Label Grid.Row="4" Grid.Column="0" Content="license plate:" VerticalAlignment="Center"/>
          <TextBox Grid.Row="4" Grid.Column="1" Margin="5,2" Text="{Binding LicensePlate}" MaxLength="8"/>
        </Grid>
      </GroupBox>

      <GroupBox Header="component quality" Margin="0,0,0,10" 
                Background="#FF3F3F46" BorderBrush="#FF555555" Foreground="#FFEAEAEA">
        <GroupBox.HeaderTemplate>
          <DataTemplate>
            <TextBlock Text="{Binding}" Foreground="#FFEAEAEA" FontWeight="Bold"/>
          </DataTemplate>
        </GroupBox.HeaderTemplate>
        <StackPanel Margin="5">
          
          <Expander Header="body quality" IsExpanded="False" Margin="0,2" 
                    Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555">
            <StackPanel Margin="10,5" Visibility="{Binding HasBodyStats, Converter={StaticResource BooleanToVisibilityConverter}}">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="Auto"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <Label Grid.Row="0" Grid.Column="0" Content="durability:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="0" Grid.Column="1" Margin="5,0" Minimum="0" Maximum="200" 
                        Value="{Binding BodyStat1}" TickFrequency="10" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="0" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding BodyStat1, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
                
                <Label Grid.Row="1" Grid.Column="0" Content="weight:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="1" Grid.Column="1" Margin="5,0" Minimum="0" Maximum="1" 
                        Value="{Binding BodyStat2}" TickFrequency="0.01" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="1" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding BodyStat2, StringFormat=F3}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
                
                <Label Grid.Row="2" Grid.Column="0" Content="capacity:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="2" Grid.Column="1" Margin="5,0" Minimum="0" Maximum="60" 
                        Value="{Binding BodyStat3}" TickFrequency="1" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="2" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding BodyStat3, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
              </Grid>
            </StackPanel>
          </Expander>
          
          <Expander Header="suspension quality" IsExpanded="False" Margin="0,2" 
                    Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555">
            <StackPanel Margin="10,5" Visibility="{Binding HasSuspensionStats, Converter={StaticResource BooleanToVisibilityConverter}}">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="Auto"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <Label Grid.Row="0" Grid.Column="0" Content="durability:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="0" Grid.Column="1" Margin="5,0" Minimum="-20" Maximum="100" 
                        Value="{Binding SuspensionStat1}" TickFrequency="1" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="0" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding SuspensionStat1, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
                
                <Label Grid.Row="1" Grid.Column="0" Content="acceleration:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="1" Grid.Column="1" Margin="5,0" Minimum="-20" Maximum="10" 
                        Value="{Binding SuspensionStat2}" TickFrequency="0.1" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="1" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding SuspensionStat2, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
                
                <Label Grid.Row="2" Grid.Column="0" Content="top speed:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="2" Grid.Column="1" Margin="5,0" Minimum="-15" Maximum="10" 
                        Value="{Binding SuspensionStat3}" TickFrequency="0.1" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="2" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding SuspensionStat3, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
                
                <Label Grid.Row="3" Grid.Column="0" Content="slope grip:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="3" Grid.Column="1" Margin="5,0" Minimum="0" Maximum="100" 
                        Value="{Binding SuspensionStat4}" TickFrequency="1" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="3" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding SuspensionStat4, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
                
                <Label Grid.Row="4" Grid.Column="0" Content="mud grip:" Width="80" Foreground="#FFEAEAEA"/>
                <Slider Grid.Row="4" Grid.Column="1" Margin="5,0" Minimum="0" Maximum="100" 
                        Value="{Binding SuspensionStat5}" TickFrequency="1" IsSnapToTickEnabled="True"/>
                <TextBox Grid.Row="4" Grid.Column="2" Width="60" Margin="5,0" 
                         Text="{Binding SuspensionStat5, StringFormat=F1}" Background="#FF2D2D30" Foreground="#FFEAEAEA" BorderBrush="#FF555555"/>
              </Grid>
            </StackPanel>
          </Expander>
          
        </StackPanel>
      </GroupBox>



    </StackPanel>
  </ScrollViewer>
</UserControl>